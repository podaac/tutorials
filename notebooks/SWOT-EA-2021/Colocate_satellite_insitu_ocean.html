<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PO.DAAC Cookbook - Use Case: Co-locate satellite and in-situ data for cross-validation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../quarto_text/CloudOptimizedExamples.html" rel="next">
<link href="../../notebooks/meetings_workshops/swot_ea_hackweek_2022/River_Heights_in_the_Cloud.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../quarto_text/Tutorials.html">Tutorials</a></li><li class="breadcrumb-item"><a href="../../quarto_text/PairingCloudNoncloudData.html">Workflows with Multiple Datasets</a></li><li class="breadcrumb-item"><a href="../../notebooks/SWOT-EA-2021/Colocate_satellite_insitu_ocean.html">SST Ocean Satellite &amp; In-situ Comparison</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../images/podaac-logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://podaac.jpl.nasa.gov/" rel="" title="PO.DAAC Website" class="quarto-navigation-tool px-1" aria-label="PO.DAAC Website"><i class="bi bi-globe"></i></a>
    <a href="https://github.com/podaac/tutorials" rel="" title="Github Repository" class="quarto-navigation-tool px-1" aria-label="Github Repository"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../quarto_text/cheatsheet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cheatsheets &amp; Guides</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/HowTo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How To's</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/earthdata_search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/NASA_Earthdata_Authentication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Authenticate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/Direct_S3_Access_NetCDF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access in Cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../quarto_text/DataSubscriberDownloader.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Download/Subscribe</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/Tutorials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorials</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/DatasetSpecificExamples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dataset Specific</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/ECCO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ECCO</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/ECCO_cloud_direct_access_s3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">In-cloud Access</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/ECCO_download_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Local Download Access</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/meetings_workshops/workshop_osm_2022/ECCO_ssh_sst_corr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Use Case Demo</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/GHRSST.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GHRSST</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/datasets/enso_MUR_tutorial_final.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Use Case Demo</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/opendap/MUR-OPeNDAP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OPeNDAP Access</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/OPERA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OPERA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
 <span class="menu-text">Visualization and Mosaicking</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/datasets/OPERA_GIS_Cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/datasets/OPERA_GIS_Notebook.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Local</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/Sentinel6MF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sentinel-6 Michael Freilich</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/sentinel-6/Access_Sentinel6_By_CyclePass.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access by Cycle/Pass</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/sentinel-6/Access_Sentinel6_NRT.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access NRT Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/meetings_workshops/workshop_osm_2022/S6_OPeNDAP_Access_Gridding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OPeNDAP Access</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/SMAP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SMAP</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/datasets/smap_imerg_tutorial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Use Case Demo</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/SMODE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">S-MODE</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/DownloadDopplerScattData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Case Study Airborne Part 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/VisualizeDopplerScattData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Case Study Airborne Part 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/insitu_dataviz_demo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Case Study In Situ</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/SWOT.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SWOT</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false">
 <span class="menu-text">Search</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/SearchDownload_SWOTviaCMR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programmatically</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/SWORD_River_Demo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">By SWORD ID</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/HUC Feature Translation Service Examples-updated-20210804.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">By HUC ID</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false">
 <span class="menu-text">In-cloud Access</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/meetings_workshops/swot_ea_workshop_sept2022/SWOTHR_s3Access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sample SWOT Hydrology Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/Direct_Access_SWOT_sim_Oceanography.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sample SWOT Oceanography Data</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false">
 <span class="menu-text">GIS Workflows</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/GIS/SWOTsample_GISshapefiles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GIS HR Shapefile Exploration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/GIS/Subscriber_nc_to_tif_SWOT.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NetCDF to Geotiff</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false">
 <span class="menu-text">Transform Data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/GIS/SWOTsample_CSVconversion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hydrology Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
 <span class="menu-text">Subset by Bounding Box</span>
  </li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../quarto_text/GIS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GIS</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/CloudvsLocalWorkflows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud vs. Local Workflows</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false">
 <span class="menu-text">Estuary Example</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/meetings_workshops/workshop_osm_2022/CloudAWS_AmazonRiver_Estuary_Exploration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Amazon Estuary Exploration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/meetings_workshops/workshop_osm_2022/Cloud_DirectDownload_AmazonRiver_Estuary_Exploration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Local</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" aria-expanded="false">
 <span class="menu-text">Reservoir Example</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-18" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/meetings_workshops/swot_ea_hackweek_2022/HLS-WaterDetection-Cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/meetings_workshops/swot_ea_hackweek_2022/HLS-WaterDetection-Local.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Local</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" aria-expanded="false">
 <span class="menu-text">Lake Extent Example</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-19" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/datasets/OPERA_GIS_Cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/datasets/OPERA_GIS_Notebook.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Local</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/PairingCloudNoncloudData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflows with Multiple Datasets</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-20" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/meetings_workshops/arctic_2019.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SSS Ocean Satellite &amp; In-situ Comparison</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/meetings_workshops/workshop_osm_2022/CloudAWS_AmazonRiver_Estuary_Exploration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Amazon Estuary Exploration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/meetings_workshops/swot_ea_hackweek_2022/River_Heights_in_the_Cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">River Heights Comparison</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/SWOT-EA-2021/Colocate_satellite_insitu_ocean.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">SST Ocean Satellite &amp; In-situ Comparison</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/CloudOptimizedExamples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud Optimized Examples</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-21" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/zarr_access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zarr Access for NetCDF4 Files</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/zarr-eosdis-store.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">zarr-eosdis-store library</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/cof-zarr-reformat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">zarr2netCDF</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../quarto_text/Experimental.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">In Development</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../quarto_text/Workshops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workshops</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/Webinars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Webinars</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-22" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../external/July_2022_Earthdata_Webinar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">July 2022 Earthdata Webinar Notebook</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../quarto_text/TechGuides.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tech Guides</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto_text/Contribute.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Contribute</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-23" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notebooks/Tutorials_TEMPLATE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorial Template</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../quarto_text/Questions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Questions?</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#requirements" id="toc-requirements" class="nav-link active" data-scroll-target="#requirements">Requirements</a></li>
  <li><a href="#earthdata-login" id="toc-earthdata-login" class="nav-link" data-scroll-target="#earthdata-login">Earthdata Login</a></li>
  <li><a href="#study-region-and-period" id="toc-study-region-and-period" class="nav-link" data-scroll-target="#study-region-and-period">Study region and period</a></li>
  <li><a href="#access-temperature-profiles-from-argovis-api" id="toc-access-temperature-profiles-from-argovis-api" class="nav-link" data-scroll-target="#access-temperature-profiles-from-argovis-api">Access temperature profiles from ArgoVis API</a>
  <ul class="collapse">
  <li><a href="#prepare-profile-data-for-further-analysis" id="toc-prepare-profile-data-for-further-analysis" class="nav-link" data-scroll-target="#prepare-profile-data-for-further-analysis">Prepare profile data for further analysis</a></li>
  </ul></li>
  <li><a href="#access-sea-surface-temperature-from-modis" id="toc-access-sea-surface-temperature-from-modis" class="nav-link" data-scroll-target="#access-sea-surface-temperature-from-modis">Access <em>sea surface temperature</em> from MODIS</a>
  <ul class="collapse">
  <li><a href="#accessing-outputs-from-your-subset-request" id="toc-accessing-outputs-from-your-subset-request" class="nav-link" data-scroll-target="#accessing-outputs-from-your-subset-request">Accessing outputs from your subset request</a></li>
  <li><a href="#plot-time-series-from-multiple-data-sources" id="toc-plot-time-series-from-multiple-data-sources" class="nav-link" data-scroll-target="#plot-time-series-from-multiple-data-sources">Plot time series from multiple data sources</a></li>
  <li><a href="#mur-level-4-sst-from-aws-open-registry" id="toc-mur-level-4-sst-from-aws-open-registry" class="nav-link" data-scroll-target="#mur-level-4-sst-from-aws-open-registry">MUR Level 4 SST from AWS Open Registry</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.dev/podaac/tutorials/blob/main/notebooks/SWOT-EA-2021/Colocate_satellite_insitu_ocean.ipynb" class="toc-action">Edit this page</a></p><p><a href="https://github.com/podaac/tutorials/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span style="color:orange">Use Case: Co-locate satellite and in-situ data for cross-validation</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<blockquote class="blockquote">
<p>From the PO.DAAC Cookbook, to access the GitHub version of the notebook, follow <a href="https://github.com/podaac/tutorials/blob/master/notebooks/SWOT-EA-2021/Colocate_satellite_insitu_ocean.ipynb">this link</a>.</p>
</blockquote>
<section id="user-story" class="level4">
<h4 class="anchored" data-anchor-id="user-story">User Story</h4>
<p>As a coastal applications researcher, I would like to co-locate in-situ measurements and satellite data near the European coast for cross-validation of data or model validation, during the winter of 2019. (*Note: this user stroes was developed to demo at the 2nd Annual SWOT Applications Early Adopter Hackweek, 8 March 2021.)</p>
</section>
<section id="learning-objectives" class="level4">
<h4 class="anchored" data-anchor-id="learning-objectives">Learning Objectives</h4>
<ul>
<li>Co-locate remote sensing data from the Earthdata Cloud archive with in-situ measurements from another provider, programmatically using the Earthdata CMR amd Harmony APIs.</li>
<li>Workflow can be conducted either locally or in the cloud (i.e.&nbsp;it is compute environment agnostic).</li>
<li>While capabilities demoed here are shown through an oceanography example, these use cases and examples can be applied as building blocks for developing other user workflows with PO.DAAC and Earthdata datasets, across a range of science and applications disciplines, including for example terrestrial hydrology, coastal, or cryosphere.</li>
<li>Note: Searching for NASA Earthdata data given point-based observation locations can also be done via the NASA Earthdata Search user interface https://search.earthdata.nasa.gov/search, in addition to programmatically (as shown here).</li>
</ul>
</section>
<section id="datasets-used" class="level4">
<h4 class="anchored" data-anchor-id="datasets-used">Datasets used</h4>
<ul>
<li>Argo floats https://argo.ucsd.edu/</li>
<li>MODIS-Aqua L2 SST https://podaac.jpl.nasa.gov/dataset/AMSRE-REMSS-L2P-v7a</li>
<li>MUR L4 SST https://registry.opendata.aws/mur/</li>
</ul>
</section>
<section id="main-steps-in-workflow" class="level4">
<h4 class="anchored" data-anchor-id="main-steps-in-workflow">Main Steps in Workflow</h4>
<ol type="1">
<li>Define study region and period of time of interest: Atlantic Ocean west of Portugal and Morocco, January 2019</li>
<li>Get in-situ Argo floats using the Argo API and prepapre the Argo data (select Argo SST for one float during its journey in Jan 2019 at the top pressure level i.e.&nbsp;nearest the ocean surface)</li>
<li>Get coincident SST observed by the MODIS satellite, from the NASA Earthdata Cloud (in AWS)
<ul>
<li>Search Earthdata Cloud satellite data for collection of interest (MODIS-Aqua L2) (using the CMR API)</li>
<li>Extract satellite data at the in-situ location for direct comparison (using the Harmony API)</li>
<li>Download locally (from the cloud archive), or download to your cloud storage or compute space if working within the AWS cloud</li>
<li>Quality control the MODIS data with daytime and quality flag filters<br>
</li>
</ul></li>
<li>Plot time series comparing the in-situ and satellite data at in-situ location(s)</li>
<li>Validate with a third dataset, MUR L4 SST (once version stored in the <em>AWS Registry of Open Data</em> - public data access)</li>
</ol>
<p><em>Note: in order to currently access PO.DAAC Cloud Pathfinder datasets such as MODIS SST L2 from the Earthdata Cloud, your Earthdata login username needs to be added to an restrcited early access list (during the transition period of migrating PO.DAAC data to the Earthdata Cloud). Please contact podaac@podaac.jpl.nasa.gov to make that request.</em></p>
<p><img src="browse.png"></p>
<hr>
</section>
<section id="requirements" class="level3">
<h3 class="anchored" data-anchor-id="requirements">Requirements</h3>
<p><strong>Import modules</strong>: The Python ecosystem is organized into modules. A module must be imported before the contents of that modules can be used. It is good practice to import modules in the first code cell of a notebook or at the top of your script. Not only does this make it clear which modules are being used, but it also ensures that the code fails at the beginning because one of the modules is not installed rather half way through after crunching a load of data.</p>
<p>For some modules, it is common practice to shorten the module names according to accepted conventions. For example, the plotting module <code>matplotlib.pyplot</code> is shortened to <code>plt</code>. It is best to stick to these conventions rather than making up your own short names so that people reading your code see immediately what you are doing.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:17.732378Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:16.086927Z&quot;}" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> netrc <span class="im">import</span> netrc</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> urllib <span class="im">import</span> request</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> platform <span class="im">import</span> system</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> getpass <span class="im">import</span> getpass</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> http.cookiejar <span class="im">import</span> CookieJar</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> os.path <span class="im">import</span> join, isfile, basename, abspath, expanduser</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> folium.plugins <span class="im">import</span> MarkerCluster</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.patches <span class="im">as</span> mpatches</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> cartopy.crs <span class="im">as</span> ccrs</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> xarray <span class="im">as</span> xr</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>matplotlib.rc(<span class="st">'font'</span>, <span class="op">**</span>{<span class="st">'family'</span> : <span class="st">'sans-serif'</span>, <span class="st">'weight'</span>: <span class="st">'normal'</span>, <span class="st">'size'</span>: <span class="dv">16</span>})</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>mkdir <span class="op">-</span>p resources<span class="op">/</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="earthdata-login" class="level3">
<h3 class="anchored" data-anchor-id="earthdata-login">Earthdata Login</h3>
<p>An Earthdata Login account is required to access data, as well as discover restricted data, from the NASA Earthdata system. Please visit https://urs.earthdata.nasa.gov to register and manage your Earthdata Login account. This account is free to create and only takes a moment to set up.</p>
<p>The <code>setup_earthdata_login_auth</code> function will allow Python scripts to log into any Earthdata Login application programmatically. To avoid being prompted for credentials every time you run and also allow clients such as curl to log in, you can add the following to a <code>.netrc</code> (<code>_netrc</code> on Windows) file in your home directory:</p>
<pre><code>machine urs.earthdata.nasa.gov
    login &lt;your username&gt;
    password &lt;your password&gt;</code></pre>
<p>Make sure that this file is only readable by the current user or you will receive an error stating “netrc access too permissive.”</p>
<p><code>$ chmod 0600 ~/.netrc</code></p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:26.075640Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:17.734562Z&quot;}">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>TOKEN_DATA <span class="op">=</span> (<span class="st">"&lt;token&gt;"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>              <span class="st">"&lt;username&gt;</span><span class="sc">%s</span><span class="st">&lt;/username&gt;"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>              <span class="st">"&lt;password&gt;</span><span class="sc">%s</span><span class="st">&lt;/password&gt;"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>              <span class="st">"&lt;client_id&gt;PODAAC CMR Client&lt;/client_id&gt;"</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>              <span class="st">"&lt;user_ip_address&gt;</span><span class="sc">%s</span><span class="st">&lt;/user_ip_address&gt;"</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>              <span class="st">"&lt;/token&gt;"</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> setup_cmr_token_auth(endpoint: <span class="bu">str</span><span class="op">=</span><span class="st">'cmr.earthdata.nasa.gov'</span>):</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    ip <span class="op">=</span> requests.get(<span class="st">"https://ipinfo.io/ip"</span>).text.strip()</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> requests.post(</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        url<span class="op">=</span><span class="st">"https://</span><span class="sc">%s</span><span class="st">/legacy-services/rest/tokens"</span> <span class="op">%</span> endpoint,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        data<span class="op">=</span>TOKEN_DATA <span class="op">%</span> (<span class="bu">input</span>(<span class="st">"Username: "</span>), getpass(<span class="st">"Password: "</span>), ip),</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        headers<span class="op">=</span>{<span class="st">'Content-Type'</span>: <span class="st">'application/xml'</span>, <span class="st">'Accept'</span>: <span class="st">'application/json'</span>}</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    ).json()[<span class="st">'token'</span>][<span class="st">'id'</span>]</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> setup_earthdata_login_auth(endpoint: <span class="bu">str</span><span class="op">=</span><span class="st">'urs.earthdata.nasa.gov'</span>):</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    netrc_name <span class="op">=</span> <span class="st">"_netrc"</span> <span class="cf">if</span> system()<span class="op">==</span><span class="st">"Windows"</span> <span class="cf">else</span> <span class="st">".netrc"</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>        username, _, password <span class="op">=</span> netrc(<span class="bu">file</span><span class="op">=</span>join(expanduser(<span class="st">'~'</span>), netrc_name)).authenticators(endpoint)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> (<span class="pp">FileNotFoundError</span>, <span class="pp">TypeError</span>):</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'Please provide your Earthdata Login credentials for access.'</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'Your info will only be passed to </span><span class="sc">%s</span><span class="st"> and will not be exposed in Jupyter.'</span> <span class="op">%</span> (endpoint))</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        username <span class="op">=</span> <span class="bu">input</span>(<span class="st">'Username: '</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>        password <span class="op">=</span> getpass(<span class="st">'Password: '</span>)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    manager <span class="op">=</span> request.HTTPPasswordMgrWithDefaultRealm()</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    manager.add_password(<span class="va">None</span>, endpoint, username, password)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    auth <span class="op">=</span> request.HTTPBasicAuthHandler(manager)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    jar <span class="op">=</span> CookieJar()</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    processor <span class="op">=</span> request.HTTPCookieProcessor(jar)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    opener <span class="op">=</span> request.build_opener(auth, processor)</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    request.install_opener(opener)</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Get your authentication token for searching restricted records in the CMR:</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>_token <span class="op">=</span> setup_cmr_token_auth(endpoint<span class="op">=</span><span class="st">"cmr.earthdata.nasa.gov"</span>)</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Start authenticated session with URS to allow restricted data downloads:</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>setup_earthdata_login_auth(endpoint<span class="op">=</span><span class="st">"urs.earthdata.nasa.gov"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="study-region-and-period" class="level3">
<h3 class="anchored" data-anchor-id="study-region-and-period">Study region and period</h3>
<p>Set some “master” inputs to define the time and place contexts for our case studies in the ipynb.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:28.015518Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:28.012516Z&quot;}" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The timeframe of interest (Argovis API limit == 3 months):</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>start_date <span class="op">=</span> <span class="st">"2019-01-01"</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>end_date   <span class="op">=</span> <span class="st">"2019-01-31"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The area/region of interest by latitude/longitude:</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>aoi_minlon <span class="op">=</span> <span class="op">-</span><span class="fl">26.0</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>aoi_minlat <span class="op">=</span> <span class="fl">30.0</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>aoi_maxlon <span class="op">=</span> <span class="op">-</span><span class="fl">12.0</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>aoi_maxlat <span class="op">=</span> <span class="fl">40.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Plot the spatial extent of our study area with a blue polygon:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:28.917055Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:28.585359Z&quot;}" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.subplot(projection<span class="op">=</span>ccrs.PlateCarree())</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>ax.figure.set_figheight(<span class="dv">9</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>ax.figure.set_figwidth(<span class="dv">9</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>ax.add_patch(mpatches.Rectangle(xy<span class="op">=</span>[aoi_minlon, aoi_minlat], </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>                                width<span class="op">=</span>aoi_maxlon<span class="op">-</span>aoi_minlon, </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>                                height<span class="op">=</span>aoi_maxlat<span class="op">-</span>aoi_minlat,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>                                facecolor<span class="op">=</span><span class="st">'white'</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                                alpha<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                                transform<span class="op">=</span>ccrs.Geodetic())</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>ax.set_extent((aoi_minlon<span class="op">-</span><span class="fl">20.</span>, </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>               aoi_maxlon<span class="op">+</span><span class="fl">20.</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>               aoi_minlat<span class="op">-</span><span class="fl">20.</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>               aoi_maxlat<span class="op">+</span><span class="fl">20.</span>), crs<span class="op">=</span>ccrs.PlateCarree())</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>ax.stock_img()</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>ax.coastlines()</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>ax.gridlines(color<span class="op">=</span><span class="st">"white"</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Colocate_satellite_insitu_ocean_files/figure-html/cell-5-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="access-temperature-profiles-from-argovis-api" class="level2">
<h2 class="anchored" data-anchor-id="access-temperature-profiles-from-argovis-api">Access temperature profiles from ArgoVis API</h2>
<p>ArgoVis is an API and visualization service that provides access to Argo float profiles. The endpoint for requesting profile data is given in the cell below:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:29.660346Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:29.657707Z&quot;}" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>argo_api_endpoint <span class="op">=</span> <span class="st">'https://argovis.colorado.edu/selection/profiles/?'</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(argo_api_endpoint)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>https://argovis.colorado.edu/selection/profiles/?</code></pre>
</div>
</div>
<p>Create the AOI polygon in required XY format, make it a string, and collect the dictionary of API parameters:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:30.322357Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:30.317187Z&quot;}" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>argo_api_aoi <span class="op">=</span> [[[aoi_minlon, aoi_minlat], </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                 [aoi_minlon, aoi_maxlat], </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                 [aoi_maxlon, aoi_maxlat],</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                 [aoi_maxlon, aoi_minlat],</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                 [aoi_minlon, aoi_minlat]]]</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>argo_api_params <span class="op">=</span> {</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'startDate'</span>: start_date.replace(<span class="st">"-0"</span>,<span class="st">"-"</span>),     <span class="co"># 1.</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'endDate'</span>: end_date.replace(<span class="st">"-0"</span>,<span class="st">"-"</span>),         <span class="co"># 1. No leading zeros in start/end dates</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'shape'</span>: <span class="bu">str</span>(argo_api_aoi).replace(<span class="st">" "</span>,<span class="st">""</span>),    <span class="co"># 2. Array of XY vertices for AOI polygon</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'presRange': "[0,30]"                         # 3. We wont limit by pressure range</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>argo_api_params</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>{'startDate': '2019-1-1',
 'endDate': '2019-1-31',
 'shape': '[[[-26.0,30.0],[-26.0,40.0],[-12.0,40.0],[-12.0,30.0],[-26.0,30.0]]]'}</code></pre>
</div>
</div>
<p>Submit the request parameters to the Argovis API. You should receive a JSON response back. Print the number of profiles inside our AOI:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:31.366649Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:30.924617Z&quot;}" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>argo_api_response <span class="op">=</span> requests.get(url<span class="op">=</span>argo_api_endpoint, params<span class="op">=</span>argo_api_params)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the response from JSON if the response status is 200:</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> argo_api_response.status_code <span class="op">==</span> <span class="dv">200</span>:</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    argo_profiles <span class="op">=</span> argo_api_response.json()</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">len</span>(argo_profiles))</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Otherwise dump the text for more clues:</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(argo_api_response.text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>41</code></pre>
</div>
</div>
<section id="prepare-profile-data-for-further-analysis" class="level3">
<h3 class="anchored" data-anchor-id="prepare-profile-data-for-further-analysis">Prepare profile data for further analysis</h3>
<p>Concatenate the list of metadata dictionaries returned for the argos into a table and update a few of its columns with Pythonic types:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:32.498596Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:32.481018Z&quot;}" data-execution_count="8">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>argo_df <span class="op">=</span> pd.DataFrame(argo_profiles).sort_values(<span class="st">"date"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a column with pandas datetime objects for easier indexing</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>argo_df[<span class="st">'datetime'</span>] <span class="op">=</span> pd.to_datetime(argo_df[<span class="st">'date'</span>])</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># And then replace the original date column with Python dates</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>argo_df[<span class="st">'date'</span>] <span class="op">=</span> argo_df.datetime.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.date).tolist()</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Add two columns of sanitized lats/lons to the data frame</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>argo_df[<span class="st">'lat'</span>] <span class="op">=</span> argo_df[<span class="st">'roundLat'</span>].astype(<span class="bu">float</span>).tolist()</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>argo_df[<span class="st">'lon'</span>] <span class="op">=</span> argo_df[<span class="st">'roundLon'</span>].astype(<span class="bu">float</span>).tolist()</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>argo_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Int64Index: 41 entries, 40 to 0
Data columns (total 36 columns):
 #   Column                        Non-Null Count  Dtype              
---  ------                        --------------  -----              
 0   _id                           41 non-null     object             
 1   POSITIONING_SYSTEM            41 non-null     object             
 2   DATA_CENTRE                   41 non-null     object             
 3   PI_NAME                       41 non-null     object             
 4   WMO_INST_TYPE                 41 non-null     object             
 5   VERTICAL_SAMPLING_SCHEME      41 non-null     object             
 6   DATA_MODE                     41 non-null     object             
 7   PLATFORM_TYPE                 41 non-null     object             
 8   measurements                  41 non-null     object             
 9   station_parameters            41 non-null     object             
 10  pres_max_for_TEMP             41 non-null     float64            
 11  pres_min_for_TEMP             41 non-null     float64            
 12  pres_max_for_PSAL             41 non-null     float64            
 13  pres_min_for_PSAL             41 non-null     float64            
 14  max_pres                      41 non-null     float64            
 15  date                          41 non-null     object             
 16  date_added                    41 non-null     object             
 17  date_qc                       41 non-null     int64              
 18  lat                           41 non-null     float64            
 19  lon                           41 non-null     float64            
 20  geoLocation                   41 non-null     object             
 21  position_qc                   41 non-null     int64              
 22  cycle_number                  41 non-null     int64              
 23  dac                           41 non-null     object             
 24  platform_number               41 non-null     int64              
 25  station_parameters_in_nc      41 non-null     object             
 26  nc_url                        41 non-null     object             
 27  DIRECTION                     41 non-null     object             
 28  BASIN                         41 non-null     int64              
 29  core_data_mode                41 non-null     object             
 30  roundLat                      41 non-null     object             
 31  roundLon                      41 non-null     object             
 32  strLat                        41 non-null     object             
 33  strLon                        41 non-null     object             
 34  formatted_station_parameters  41 non-null     object             
 35  datetime                      41 non-null     datetime64[ns, UTC]
dtypes: datetime64[ns, UTC](1), float64(7), int64(5), object(23)
memory usage: 11.9+ KB</code></pre>
</div>
</div>
<p>You can download profiles in netCDF format from the FTP link stored in the <em>nc_url</em> fields of the response. Here’s the URL for the first of the profiles:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:33.524480Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:33.521451Z&quot;}" data-execution_count="9">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(argo_df.iloc[<span class="dv">0</span>].nc_url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>ftp://ftp.ifremer.fr/ifremer/argo/dac/coriolis/6902663/profiles/R6902663_124.nc</code></pre>
</div>
</div>
<p>Display a table summarizing the space/time characteristics of eaach profile:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:33.919883Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:33.899572Z&quot;}" data-execution_count="10">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>argo_df[[<span class="st">'platform_number'</span>, <span class="st">'cycle_number'</span>, <span class="st">'datetime'</span>, <span class="st">'lon'</span>, <span class="st">'lat'</span>]] <span class="co">#, 'measurements']]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">platform_number</th>
<th data-quarto-table-cell-role="th">cycle_number</th>
<th data-quarto-table-cell-role="th">datetime</th>
<th data-quarto-table-cell-role="th">lon</th>
<th data-quarto-table-cell-role="th">lat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>6902663</td>
<td>124</td>
<td>2019-01-01 20:14:00+00:00</td>
<td>-17.383</td>
<td>35.601</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">39</td>
<td>6901260</td>
<td>49</td>
<td>2019-01-02 05:43:00+00:00</td>
<td>-12.812</td>
<td>37.707</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">38</td>
<td>6901143</td>
<td>228</td>
<td>2019-01-02 09:22:20+00:00</td>
<td>-21.083</td>
<td>32.254</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>6902664</td>
<td>124</td>
<td>2019-01-02 20:28:00+00:00</td>
<td>-18.411</td>
<td>34.985</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36</td>
<td>3901643</td>
<td>43</td>
<td>2019-01-04 06:13:00+00:00</td>
<td>-22.429</td>
<td>37.556</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35</td>
<td>3901942</td>
<td>48</td>
<td>2019-01-05 20:23:30+00:00</td>
<td>-15.286</td>
<td>35.316</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">34</td>
<td>6901262</td>
<td>22</td>
<td>2019-01-06 05:42:59.999000+00:00</td>
<td>-17.967</td>
<td>34.228</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>3901932</td>
<td>22</td>
<td>2019-01-06 05:49:00+00:00</td>
<td>-19.904</td>
<td>33.428</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>1901688</td>
<td>288</td>
<td>2019-01-07 03:11:53+00:00</td>
<td>-23.134</td>
<td>34.258</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>6901260</td>
<td>50</td>
<td>2019-01-07 05:26:00+00:00</td>
<td>-12.887</td>
<td>37.905</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>1901688</td>
<td>289</td>
<td>2019-01-08 03:15:16+00:00</td>
<td>-23.137</td>
<td>34.248</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>6902552</td>
<td>167</td>
<td>2019-01-08 12:50:00+00:00</td>
<td>-23.798</td>
<td>33.144</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>1901688</td>
<td>290</td>
<td>2019-01-09 03:19:48+00:00</td>
<td>-23.148</td>
<td>34.233</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>1901688</td>
<td>291</td>
<td>2019-01-10 03:27:35+00:00</td>
<td>-23.158</td>
<td>34.218</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>6901273</td>
<td>11</td>
<td>2019-01-10 05:25:00+00:00</td>
<td>-12.473</td>
<td>32.219</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>6902663</td>
<td>125</td>
<td>2019-01-11 20:15:00+00:00</td>
<td>-17.071</td>
<td>35.830</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>6901260</td>
<td>51</td>
<td>2019-01-12 05:18:00+00:00</td>
<td>-12.982</td>
<td>38.047</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>6901143</td>
<td>229</td>
<td>2019-01-12 07:05:12+00:00</td>
<td>-21.206</td>
<td>32.474</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>6902664</td>
<td>125</td>
<td>2019-01-12 20:16:00+00:00</td>
<td>-18.198</td>
<td>35.057</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>3901643</td>
<td>44</td>
<td>2019-01-14 05:58:00+00:00</td>
<td>-22.706</td>
<td>37.542</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>3901942</td>
<td>49</td>
<td>2019-01-15 20:37:30+00:00</td>
<td>-15.739</td>
<td>34.976</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>6901262</td>
<td>23</td>
<td>2019-01-16 05:39:00+00:00</td>
<td>-17.725</td>
<td>34.223</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>6902785</td>
<td>54</td>
<td>2019-01-16 05:56:00+00:00</td>
<td>-25.507</td>
<td>38.293</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>3901932</td>
<td>23</td>
<td>2019-01-16 06:04:00+00:00</td>
<td>-19.081</td>
<td>34.101</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>6901260</td>
<td>52</td>
<td>2019-01-17 05:28:00+00:00</td>
<td>-13.092</td>
<td>38.266</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>6902552</td>
<td>168</td>
<td>2019-01-18 13:02:00+00:00</td>
<td>-23.575</td>
<td>33.225</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>1901688</td>
<td>292</td>
<td>2019-01-19 20:13:54.002000+00:00</td>
<td>-23.272</td>
<td>34.136</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>6901273</td>
<td>12</td>
<td>2019-01-20 05:31:00+00:00</td>
<td>-12.447</td>
<td>32.181</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>6902663</td>
<td>126</td>
<td>2019-01-21 20:21:00+00:00</td>
<td>-16.892</td>
<td>35.982</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>6901260</td>
<td>53</td>
<td>2019-01-22 05:33:00+00:00</td>
<td>-13.146</td>
<td>38.378</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>6901143</td>
<td>230</td>
<td>2019-01-22 09:01:03+00:00</td>
<td>-21.136</td>
<td>32.880</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>6902664</td>
<td>126</td>
<td>2019-01-22 20:23:00+00:00</td>
<td>-18.099</td>
<td>35.114</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>3901643</td>
<td>45</td>
<td>2019-01-24 06:11:00+00:00</td>
<td>-23.115</td>
<td>37.358</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>3901942</td>
<td>50</td>
<td>2019-01-25 20:21:30+00:00</td>
<td>-14.963</td>
<td>35.402</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>6901262</td>
<td>24</td>
<td>2019-01-26 05:47:59.999000+00:00</td>
<td>-17.474</td>
<td>34.302</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>3901932</td>
<td>24</td>
<td>2019-01-26 06:00:00+00:00</td>
<td>-18.151</td>
<td>34.375</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>6902785</td>
<td>55</td>
<td>2019-01-26 06:10:00+00:00</td>
<td>-25.212</td>
<td>38.213</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>6901260</td>
<td>54</td>
<td>2019-01-27 05:38:00+00:00</td>
<td>-13.265</td>
<td>38.484</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>6902552</td>
<td>169</td>
<td>2019-01-28 12:45:00+00:00</td>
<td>-23.267</td>
<td>33.294</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1901688</td>
<td>293</td>
<td>2019-01-29 13:03:27.001000+00:00</td>
<td>-23.403</td>
<td>34.206</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>6901273</td>
<td>13</td>
<td>2019-01-30 05:27:00+00:00</td>
<td>-12.737</td>
<td>32.602</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><em>Now plot argo profile locations on an interactive map.</em></p>
<p>This plot uses folium/leaflet. Hover/click the clusters (which correspond to specific Argo float platforms) to zoom to the groups of individual profiles and display metadata about them:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:34.320181Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:34.218898Z&quot;}" data-execution_count="11">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> _get_tooltip(profile: <span class="bu">dict</span>):</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"""&lt;b&gt;Date&lt;/b&gt;: </span><span class="sc">{date}</span><span class="st">&lt;br&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="st">              &lt;b&gt;Profile ID&lt;/b&gt;: </span><span class="sc">{_id}</span><span class="st">&lt;br&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="st">              &lt;b&gt;Platform ID&lt;/b&gt;: </span><span class="sc">{platform_number}</span><span class="st">&lt;br&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="st">              &lt;b&gt;Latitude&lt;/b&gt;: </span><span class="sc">{lat}</span><span class="st">&lt;br&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="st">              &lt;b&gt;Longitude&lt;/b&gt;: </span><span class="sc">{lon}</span><span class="st">&lt;br&gt;"""</span>.<span class="bu">format</span>(<span class="op">**</span>profile)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>[argo_df[<span class="st">'lat'</span>].mean(), argo_df[<span class="st">'lon'</span>].mean()], </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>               tiles<span class="op">=</span><span class="st">"Stamen Terrain"</span>,</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>               zoom_start<span class="op">=</span><span class="dv">5</span>, )</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop over list of unique platform_numbers (floats)</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>unique_argo_platform_numbers <span class="op">=</span> argo_df.platform_number.unique().tolist()</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, platform <span class="kw">in</span> <span class="bu">enumerate</span>(unique_argo_platform_numbers):</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get row(s) for the current platform</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    p <span class="op">=</span> argo_df[argo_df[<span class="st">'platform_number'</span>]<span class="op">==</span>platform]</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make an empty marker cluster to add to the map widget</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    cluster <span class="op">=</span> MarkerCluster(name<span class="op">=</span>p[<span class="st">'platform_number'</span>])</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make markers in a loop and add to the cluster:</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> c <span class="kw">in</span> p[<span class="st">'cycle_number'</span>].tolist():</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Select the row for the current profile ('cycle')</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>        profile <span class="op">=</span> p[p[<span class="st">'cycle_number'</span>]<span class="op">==</span>c].iloc[<span class="dv">0</span>]</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Create a new marker and add it to the cluster</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>        cluster.add_child(folium.Marker(</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>            location<span class="op">=</span>[profile[<span class="st">'lat'</span>], profile[<span class="st">'lon'</span>]],</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>            tooltip<span class="op">=</span>_get_tooltip(profile.to_dict())))</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>    m.add_child(cluster)</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>display(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html="%3C%21DOCTYPE%20html%3E%0A%3Chead%3E%20%20%20%20%0A%20%20%20%20%3Cmeta%20http-equiv%3D%22content-type%22%20content%3D%22text/html%3B%20charset%3DUTF-8%22%20/%3E%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20L_NO_TOUCH%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20L_DISABLE_3D%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%3C/script%3E%0A%20%20%20%20%0A%20%20%20%20%3Cstyle%3Ehtml%2C%20body%20%7Bwidth%3A%20100%25%3Bheight%3A%20100%25%3Bmargin%3A%200%3Bpadding%3A%200%3B%7D%3C/style%3E%0A%20%20%20%20%3Cstyle%3E%23map%20%7Bposition%3Aabsolute%3Btop%3A0%3Bbottom%3A0%3Bright%3A0%3Bleft%3A0%3B%7D%3C/style%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdn.jsdelivr.net/npm/leaflet%401.6.0/dist/leaflet.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//code.jquery.com/jquery-1.12.4.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js%22%3E%3C/script%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdn.jsdelivr.net/npm/leaflet%401.6.0/dist/leaflet.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css%22/%3E%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20initial-scale%3D1.0%2C%20maximum-scale%3D1.0%2C%20user-scalable%3Dno%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23map_958dbe81645044a1a2bf16744956f9a2%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100.0%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100.0%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%200.0%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A%200.0%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/style%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/leaflet.markercluster.js%22%3E%3C/script%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.Default.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22folium-map%22%20id%3D%22map_958dbe81645044a1a2bf16744956f9a2%22%20%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%3C/body%3E%0A%3Cscript%3E%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20map_958dbe81645044a1a2bf16744956f9a2%20%3D%20L.map%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22map_958dbe81645044a1a2bf16744956f9a2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20center%3A%20%5B35.12782926829268%2C%20-18.791975609756097%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20crs%3A%20L.CRS.EPSG3857%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20zoom%3A%205%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20zoomControl%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20preferCanvas%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20tile_layer_e8c1a3e8b62e48d9953fd1cc12dacaf7%20%3D%20L.tileLayer%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22https%3A//stamen-tiles-%7Bs%7D.a.ssl.fastly.net/terrain/%7Bz%7D/%7Bx%7D/%7By%7D.jpg%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22attribution%22%3A%20%22Map%20tiles%20by%20%5Cu003ca%20href%3D%5C%22http%3A//stamen.com%5C%22%5Cu003eStamen%20Design%5Cu003c/a%5Cu003e%2C%20under%20%5Cu003ca%20href%3D%5C%22http%3A//creativecommons.org/licenses/by/3.0%5C%22%5Cu003eCC%20BY%203.0%5Cu003c/a%5Cu003e.%20Data%20by%20%5Cu0026copy%3B%20%5Cu003ca%20href%3D%5C%22http%3A//openstreetmap.org%5C%22%5Cu003eOpenStreetMap%5Cu003c/a%5Cu003e%2C%20under%20%5Cu003ca%20href%3D%5C%22http%3A//creativecommons.org/licenses/by-sa/3.0%5C%22%5Cu003eCC%20BY%20SA%5Cu003c/a%5Cu003e.%22%2C%20%22detectRetina%22%3A%20false%2C%20%22maxNativeZoom%22%3A%2018%2C%20%22maxZoom%22%3A%2018%2C%20%22minZoom%22%3A%200%2C%20%22noWrap%22%3A%20false%2C%20%22opacity%22%3A%201%2C%20%22subdomains%22%3A%20%22abc%22%2C%20%22tms%22%3A%20false%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28map_958dbe81645044a1a2bf16744956f9a2%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_34c8893340e144188ef3810b78158e38%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_34c8893340e144188ef3810b78158e38%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_8fb9a6ddf721433bb132018d1cbc0ef9%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B35.601%2C%20-17.383%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_34c8893340e144188ef3810b78158e38%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_8fb9a6ddf721433bb132018d1cbc0ef9.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-01%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206902663_124%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206902663%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2035.601%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-17.383%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_9440d25328ba476da6267908b4b4e509%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B35.83%2C%20-17.071%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_34c8893340e144188ef3810b78158e38%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_9440d25328ba476da6267908b4b4e509.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-11%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206902663_125%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206902663%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2035.83%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-17.071%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_607a948d68c84155bbfbe37f8009c555%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B35.982%2C%20-16.892%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_34c8893340e144188ef3810b78158e38%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_607a948d68c84155bbfbe37f8009c555.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-21%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206902663_126%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206902663%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2035.982%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-16.892%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_26e198baf2824a9fb5ba26278576bf94%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_26e198baf2824a9fb5ba26278576bf94%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_077df100a7e34c67acd6c369e91e2c92%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B37.707%2C%20-12.812%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_26e198baf2824a9fb5ba26278576bf94%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_077df100a7e34c67acd6c369e91e2c92.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-02%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901260_49%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901260%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2037.707%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-12.812%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_470231ee6dc8413ebd996a69c4100874%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B37.905%2C%20-12.887%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_26e198baf2824a9fb5ba26278576bf94%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_470231ee6dc8413ebd996a69c4100874.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-07%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901260_50%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901260%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2037.905%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-12.887%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_64ff3aadadef4c92905c6913a1069c26%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B38.047%2C%20-12.982%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_26e198baf2824a9fb5ba26278576bf94%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_64ff3aadadef4c92905c6913a1069c26.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-12%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901260_51%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901260%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2038.047%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-12.982%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_81f63c88c19f4e92945f9df34fc1f386%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B38.266%2C%20-13.092%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_26e198baf2824a9fb5ba26278576bf94%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_81f63c88c19f4e92945f9df34fc1f386.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-17%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901260_52%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901260%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2038.266%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-13.092%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cc3230e1dcbe4a0da84067ef608a678e%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B38.378%2C%20-13.146%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_26e198baf2824a9fb5ba26278576bf94%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_cc3230e1dcbe4a0da84067ef608a678e.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-22%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901260_53%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901260%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2038.378%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-13.146%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_07a5db2ae59d4928ad2e8ee3a4d9564d%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B38.484%2C%20-13.265%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_26e198baf2824a9fb5ba26278576bf94%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_07a5db2ae59d4928ad2e8ee3a4d9564d.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-27%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901260_54%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901260%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2038.484%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-13.265%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_f665b8b5759b4a4eb313602769734334%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_f665b8b5759b4a4eb313602769734334%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_f9c6030177a44081b0df5d7cc78bd64b%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B32.254%2C%20-21.083%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_f665b8b5759b4a4eb313602769734334%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_f9c6030177a44081b0df5d7cc78bd64b.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-02%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901143_228%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901143%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2032.254%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-21.083%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_84d9d28245414425851c7299c229bb7a%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B32.474%2C%20-21.206%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_f665b8b5759b4a4eb313602769734334%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_84d9d28245414425851c7299c229bb7a.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-12%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901143_229%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901143%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2032.474%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-21.206%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_5cfe443f516349c3a526856528553e65%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B32.88%2C%20-21.136%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_f665b8b5759b4a4eb313602769734334%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_5cfe443f516349c3a526856528553e65.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-22%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901143_230%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901143%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2032.88%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-21.136%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_950d0cb38771485c97fc4aea2bfa868f%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_950d0cb38771485c97fc4aea2bfa868f%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_2caff2ac98294888ae7fdf8664dcebff%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.985%2C%20-18.411%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_950d0cb38771485c97fc4aea2bfa868f%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_2caff2ac98294888ae7fdf8664dcebff.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-02%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206902664_124%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206902664%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.985%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-18.411%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_ce5fbf07a7f14201b210e1c4110cc202%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B35.057%2C%20-18.198%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_950d0cb38771485c97fc4aea2bfa868f%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_ce5fbf07a7f14201b210e1c4110cc202.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-12%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206902664_125%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206902664%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2035.057%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-18.198%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_c8429397512c4246aa503c2e8618505c%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B35.114%2C%20-18.099%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_950d0cb38771485c97fc4aea2bfa868f%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_c8429397512c4246aa503c2e8618505c.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-22%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206902664_126%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206902664%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2035.114%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-18.099%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_4a7850cc0c704ea58a70ed81d2b53721%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_4a7850cc0c704ea58a70ed81d2b53721%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_fd93e6a433a042fd9a6a0270f071d40f%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B37.556%2C%20-22.429%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_4a7850cc0c704ea58a70ed81d2b53721%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_fd93e6a433a042fd9a6a0270f071d40f.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-04%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%203901643_43%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%203901643%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2037.556%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-22.429%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_6c11da0a9e9844d68463661057f8aeb5%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B37.542%2C%20-22.706%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_4a7850cc0c704ea58a70ed81d2b53721%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_6c11da0a9e9844d68463661057f8aeb5.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-14%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%203901643_44%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%203901643%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2037.542%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-22.706%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_bd6fad962df34c96a58ca12259a5906e%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B37.358%2C%20-23.115%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_4a7850cc0c704ea58a70ed81d2b53721%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_bd6fad962df34c96a58ca12259a5906e.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-24%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%203901643_45%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%203901643%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2037.358%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-23.115%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_2e48bbabc35f498bae30faade6d90d0a%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_2e48bbabc35f498bae30faade6d90d0a%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_7b410a6a00624e59b96afa99b96e4060%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B35.316%2C%20-15.286%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_2e48bbabc35f498bae30faade6d90d0a%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_7b410a6a00624e59b96afa99b96e4060.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-05%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%203901942_48%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%203901942%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2035.316%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-15.286%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_09201bd64d3c4e2c8238cb1e7663d5be%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.976%2C%20-15.739%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_2e48bbabc35f498bae30faade6d90d0a%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_09201bd64d3c4e2c8238cb1e7663d5be.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-15%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%203901942_49%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%203901942%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.976%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-15.739%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_05908e83bf084516a8e65134ede93ba6%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B35.402%2C%20-14.963%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_2e48bbabc35f498bae30faade6d90d0a%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_05908e83bf084516a8e65134ede93ba6.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-25%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%203901942_50%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%203901942%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2035.402%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-14.963%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_126dec1b6bba4ecf9f15817369e3f35d%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_126dec1b6bba4ecf9f15817369e3f35d%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_e756c2c6e3334503b131413ca3c38804%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.228%2C%20-17.967%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_126dec1b6bba4ecf9f15817369e3f35d%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_e756c2c6e3334503b131413ca3c38804.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-06%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901262_22%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901262%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.228%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-17.967%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_8ab33e154431467a9a1de773698c336a%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.223%2C%20-17.725%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_126dec1b6bba4ecf9f15817369e3f35d%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_8ab33e154431467a9a1de773698c336a.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-16%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901262_23%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901262%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.223%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-17.725%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_46097d6389a34b2486df3a53530d6403%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.302%2C%20-17.474%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_126dec1b6bba4ecf9f15817369e3f35d%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_46097d6389a34b2486df3a53530d6403.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-26%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901262_24%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901262%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.302%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-17.474%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_8e53a585056a4905ab4d5f94f521b6fd%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_8e53a585056a4905ab4d5f94f521b6fd%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_36b4f276f15f4a2ea28f73847421f4af%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B33.428%2C%20-19.904%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_8e53a585056a4905ab4d5f94f521b6fd%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_36b4f276f15f4a2ea28f73847421f4af.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-06%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%203901932_22%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%203901932%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2033.428%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-19.904%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_eaade7a822dd430685ebf9b5055c7015%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.101%2C%20-19.081%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_8e53a585056a4905ab4d5f94f521b6fd%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_eaade7a822dd430685ebf9b5055c7015.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-16%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%203901932_23%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%203901932%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.101%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-19.081%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_3071f017c51e4d5e92c8137184e31aac%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.375%2C%20-18.151%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_8e53a585056a4905ab4d5f94f521b6fd%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_3071f017c51e4d5e92c8137184e31aac.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-26%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%203901932_24%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%203901932%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.375%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-18.151%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_a67a468b194845f0ab12b11e5ebb649f%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_a67a468b194845f0ab12b11e5ebb649f%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_b41777c191594e2693f76b7aca858799%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.258%2C%20-23.134%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_a67a468b194845f0ab12b11e5ebb649f%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_b41777c191594e2693f76b7aca858799.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-07%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%201901688_288%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%201901688%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.258%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-23.134%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_98272fd062da4ae399874a0a2d50ce8f%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.248%2C%20-23.137%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_a67a468b194845f0ab12b11e5ebb649f%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_98272fd062da4ae399874a0a2d50ce8f.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-08%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%201901688_289%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%201901688%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.248%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-23.137%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_75cea075f0a247b7a5912b5fd0c2747d%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.233%2C%20-23.148%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_a67a468b194845f0ab12b11e5ebb649f%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_75cea075f0a247b7a5912b5fd0c2747d.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-09%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%201901688_290%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%201901688%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.233%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-23.148%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_19d241fa32fa492f981780358416289d%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.218%2C%20-23.158%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_a67a468b194845f0ab12b11e5ebb649f%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_19d241fa32fa492f981780358416289d.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-10%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%201901688_291%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%201901688%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.218%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-23.158%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_975d0304f8d246b7b97a25f95284d613%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.136%2C%20-23.272%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_a67a468b194845f0ab12b11e5ebb649f%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_975d0304f8d246b7b97a25f95284d613.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-19%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%201901688_292%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%201901688%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.136%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-23.272%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_05891d5c2ca74dedad99c14a4e36d98f%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B34.206%2C%20-23.403%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_a67a468b194845f0ab12b11e5ebb649f%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_05891d5c2ca74dedad99c14a4e36d98f.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-29%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%201901688_293%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%201901688%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2034.206%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-23.403%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_60ec54aeeb4240de98ecb9cef2750c41%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_60ec54aeeb4240de98ecb9cef2750c41%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_1e2fbbee165c485a98586b1900683a93%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B33.144%2C%20-23.798%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_60ec54aeeb4240de98ecb9cef2750c41%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_1e2fbbee165c485a98586b1900683a93.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-08%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206902552_167%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206902552%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2033.144%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-23.798%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_5b23e7b4a7df4e1183580d3d9531b72e%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B33.225%2C%20-23.575%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_60ec54aeeb4240de98ecb9cef2750c41%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_5b23e7b4a7df4e1183580d3d9531b72e.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-18%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206902552_168%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206902552%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2033.225%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-23.575%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_a7f01dc331734ab984b1d8a81cccfb9d%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B33.294%2C%20-23.267%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_60ec54aeeb4240de98ecb9cef2750c41%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_a7f01dc331734ab984b1d8a81cccfb9d.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-28%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206902552_169%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206902552%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2033.294%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-23.267%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_80aa498fa3024374bb5b5edb644f5826%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_80aa498fa3024374bb5b5edb644f5826%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_87c5e1330c2f44c2ba86c58d0373a3e9%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B32.219%2C%20-12.473%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_80aa498fa3024374bb5b5edb644f5826%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_87c5e1330c2f44c2ba86c58d0373a3e9.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-10%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901273_11%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901273%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2032.219%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-12.473%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_1e3dcd55e8424481bf8e55b76f1cd332%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B32.181%2C%20-12.447%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_80aa498fa3024374bb5b5edb644f5826%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_1e3dcd55e8424481bf8e55b76f1cd332.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-20%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901273_12%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901273%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2032.181%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-12.447%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_84b9194e65ac4faebe325f1966ffd575%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B32.602%2C%20-12.737%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_80aa498fa3024374bb5b5edb644f5826%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_84b9194e65ac4faebe325f1966ffd575.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-30%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206901273_13%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206901273%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2032.602%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-12.737%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_cluster_26146f6ad9fc400eb5e4c3016bc1a988%20%3D%20L.markerClusterGroup%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20map_958dbe81645044a1a2bf16744956f9a2.addLayer%28marker_cluster_26146f6ad9fc400eb5e4c3016bc1a988%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_acba2c126575493cac00e4b0dc360fc8%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B38.293%2C%20-25.507%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_26146f6ad9fc400eb5e4c3016bc1a988%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_acba2c126575493cac00e4b0dc360fc8.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-16%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206902785_54%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206902785%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2038.293%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-25.507%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20marker_f43094ba95ec47fea758fd807128fe01%20%3D%20L.marker%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B38.213%2C%20-25.212%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28marker_cluster_26146f6ad9fc400eb5e4c3016bc1a988%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20marker_f43094ba95ec47fea758fd807128fe01.bindTooltip%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EDate%3C/b%3E%3A%202019-01-26%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EProfile%20ID%3C/b%3E%3A%206902785_55%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3EPlatform%20ID%3C/b%3E%3A%206902785%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELatitude%3C/b%3E%3A%2038.213%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cb%3ELongitude%3C/b%3E%3A%20-25.212%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22sticky%22%3A%20true%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%3C/script%3E" onload="this.contentDocument.open();this.contentDocument.write(    decodeURIComponent(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
<section id="reformat-profile-data-into-data-frames" class="level4">
<h4 class="anchored" data-anchor-id="reformat-profile-data-into-data-frames">Reformat profile data into data frames</h4>
<p>The in situ measurements temperature, pressure, and salinity readings collected during each profile are returned inside the JSON response.</p>
<p>The format of the <em>measurements</em> field is perfect for conversion to <em>pandas</em> data frames. Apply <em>pandas.DataFrame</em> over the entire measurements column to make a pandas.Series of data frames, and replace the existing content in the <em>measurements</em> column:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:34.642588Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:34.601923Z&quot;}" data-execution_count="12">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>argo_df[<span class="st">'measurements'</span>] <span class="op">=</span> argo_df[<span class="st">'measurements'</span>].<span class="bu">apply</span>(pd.DataFrame).tolist()</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Print statistical summary of the table content:</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>argo_df.iloc[<span class="dv">0</span>].measurements.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">temp</th>
<th data-quarto-table-cell-role="th">pres</th>
<th data-quarto-table-cell-role="th">psal</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>105.000000</td>
<td>105.000000</td>
<td>105.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>11.579429</td>
<td>794.390476</td>
<td>35.832990</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>4.726514</td>
<td>655.512828</td>
<td>0.433002</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>4.053000</td>
<td>6.000000</td>
<td>35.073000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>8.096000</td>
<td>146.000000</td>
<td>35.597000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>10.885000</td>
<td>713.000000</td>
<td>35.765000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>15.750000</td>
<td>1363.000000</td>
<td>36.128000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>18.418000</td>
<td>2010.000000</td>
<td>36.504000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Plot temperature at the minimum pressure for each profile</strong></p>
<p>This cell applies a lambda over the measurements column to slice the row corresponding to the minimum pressure bin for each profile and returns the corresponding temperature measurement:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:35.174348Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:34.982114Z&quot;}" data-execution_count="13">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> _get_prof_temp_at_pres_min(x):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x[x[<span class="st">'pres'</span>]<span class="op">==</span>x[<span class="st">'pres'</span>].<span class="bu">min</span>()][<span class="st">'temp'</span>].item()</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the fuunction over the column of measurements tables</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>argo_df[<span class="st">'temp_at_pres_min'</span>] <span class="op">=</span> argo_df[<span class="st">'measurements'</span>].<span class="bu">apply</span>(_get_prof_temp_at_pres_min).tolist()</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot temperature measured nearest to the sea surface for each profile </span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>argo_df.plot.scatter(x<span class="op">=</span><span class="st">"datetime"</span>, y<span class="op">=</span><span class="st">"temp_at_pres_min"</span>, figsize<span class="op">=</span>(<span class="dv">16</span>, <span class="dv">4</span>))</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"~Daily temperature at minimum pressure across ~40 argo profiles"</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="va">None</span>)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Temperature (degrees C)"</span>)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="fl">15.5</span>, <span class="fl">20.5</span>)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>plt.grid(alpha<span class="op">=</span><span class="fl">0.25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Colocate_satellite_insitu_ocean_files/figure-html/cell-14-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="select-an-argo-of-interest-and-its-platform_number" class="level4">
<h4 class="anchored" data-anchor-id="select-an-argo-of-interest-and-its-platform_number">Select an <em>Argo of Interest</em> and its <em>platform_number</em></h4>
<p>See which floats had the most profiles within our timeframe/area of interest:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:35.489461Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:35.482988Z&quot;}" data-execution_count="14">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>argo_df.groupby(<span class="st">"platform_number"</span>).count()[<span class="st">'cycle_number'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>platform_number
1901688    6
3901643    3
3901932    3
3901942    3
6901143    3
6901260    6
6901262    3
6901273    3
6902552    3
6902663    3
6902664    3
6902785    2
Name: cycle_number, dtype: int64</code></pre>
</div>
</div>
<p>Choose a float with six profiles to study further during the remainder of the notebook.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:35.960685Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:35.918266Z&quot;}" data-execution_count="15">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>target_argo <span class="op">=</span> <span class="dv">6901260</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Select rows (profiles) for the desired platform:</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>argo_skinny <span class="op">=</span> argo_df[argo_df.platform_number<span class="op">==</span>target_argo].copy()</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>argo_skinny.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pres_max_for_TEMP</th>
<th data-quarto-table-cell-role="th">pres_min_for_TEMP</th>
<th data-quarto-table-cell-role="th">pres_max_for_PSAL</th>
<th data-quarto-table-cell-role="th">pres_min_for_PSAL</th>
<th data-quarto-table-cell-role="th">max_pres</th>
<th data-quarto-table-cell-role="th">date_qc</th>
<th data-quarto-table-cell-role="th">lat</th>
<th data-quarto-table-cell-role="th">lon</th>
<th data-quarto-table-cell-role="th">position_qc</th>
<th data-quarto-table-cell-role="th">cycle_number</th>
<th data-quarto-table-cell-role="th">platform_number</th>
<th data-quarto-table-cell-role="th">BASIN</th>
<th data-quarto-table-cell-role="th">temp_at_pres_min</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>6.000000</td>
<td>6.0</td>
<td>6.000000</td>
<td>6.0</td>
<td>6.000000</td>
<td>6.0</td>
<td>6.000000</td>
<td>6.000000</td>
<td>6.0</td>
<td>6.000000</td>
<td>6.0</td>
<td>6.0</td>
<td>6.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>1992.666667</td>
<td>6.0</td>
<td>1992.666667</td>
<td>6.0</td>
<td>1992.666667</td>
<td>1.0</td>
<td>38.131167</td>
<td>-13.030667</td>
<td>1.0</td>
<td>51.500000</td>
<td>6901260.0</td>
<td>1.0</td>
<td>16.921000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>21.500388</td>
<td>0.0</td>
<td>21.500388</td>
<td>0.0</td>
<td>21.500388</td>
<td>0.0</td>
<td>0.297238</td>
<td>0.168997</td>
<td>0.0</td>
<td>1.870829</td>
<td>0.0</td>
<td>0.0</td>
<td>0.495337</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>1961.000000</td>
<td>6.0</td>
<td>1961.000000</td>
<td>6.0</td>
<td>1961.000000</td>
<td>1.0</td>
<td>37.707000</td>
<td>-13.265000</td>
<td>1.0</td>
<td>49.000000</td>
<td>6901260.0</td>
<td>1.0</td>
<td>16.153000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>1980.500000</td>
<td>6.0</td>
<td>1980.500000</td>
<td>6.0</td>
<td>1980.500000</td>
<td>1.0</td>
<td>37.940500</td>
<td>-13.132500</td>
<td>1.0</td>
<td>50.250000</td>
<td>6901260.0</td>
<td>1.0</td>
<td>16.643250</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>1994.500000</td>
<td>6.0</td>
<td>1994.500000</td>
<td>6.0</td>
<td>1994.500000</td>
<td>1.0</td>
<td>38.156500</td>
<td>-13.037000</td>
<td>1.0</td>
<td>51.500000</td>
<td>6901260.0</td>
<td>1.0</td>
<td>17.014000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>2010.750000</td>
<td>6.0</td>
<td>2010.750000</td>
<td>6.0</td>
<td>2010.750000</td>
<td>1.0</td>
<td>38.350000</td>
<td>-12.910750</td>
<td>1.0</td>
<td>52.750000</td>
<td>6901260.0</td>
<td>1.0</td>
<td>17.263250</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>2014.000000</td>
<td>6.0</td>
<td>2014.000000</td>
<td>6.0</td>
<td>2014.000000</td>
<td>1.0</td>
<td>38.484000</td>
<td>-12.812000</td>
<td>1.0</td>
<td>54.000000</td>
<td>6901260.0</td>
<td>1.0</td>
<td>17.479000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
</section>
<section id="access-sea-surface-temperature-from-modis" class="level2">
<h2 class="anchored" data-anchor-id="access-sea-surface-temperature-from-modis">Access <em>sea surface temperature</em> from MODIS</h2>
<p>The user guide for MODIS Level 2 Sea Surface Temperature (SST) from GHRSST is available on the PO.DAAC Drive: https://podaac-tools.jpl.nasa.gov/drive/files/OceanTemperature/ghrsst/docs/GDS20r5.pdf</p>
<p>We will access L2 SST data for our AOI and time period of interest by submitting two subset requests to the <a href="https://harmony.earthdata.nasa.gov/">Harmony API</a>.</p>
<p><strong>Redefine the AOI to the minimum XY bounds of selected profiles</strong></p>
<p>Simply replace the <em><code>aoi_*</code></em> Python variables with min/max of the <em>lat</em> and <em>lon</em> columns in the new <em>argo_skinny</em> data frame:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:36.313559Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:36.308456Z&quot;}" data-execution_count="16">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>aoi_minlon <span class="op">=</span> argo_skinny.lon.<span class="bu">min</span>()</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>aoi_maxlon <span class="op">=</span> argo_skinny.lon.<span class="bu">max</span>()</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>aoi_minlat <span class="op">=</span> argo_skinny.lat.<span class="bu">min</span>()</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>aoi_maxlat <span class="op">=</span> argo_skinny.lat.<span class="bu">max</span>()</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>aoi_minlon, aoi_minlat, aoi_maxlon, aoi_maxlat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>(-13.265, 37.707, -12.812, 38.484)</code></pre>
</div>
</div>
<p><strong>Search the Common Metadata Repository (CMR) for its unique <em>concept-id</em></strong></p>
<p>The API requires a dataset identifier that we must obtain from CMR. In the next cell, submit a request to the CMR API to grab the metadata for to the dataset/collection.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:37.076361Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:36.696876Z&quot;}" data-execution_count="17">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>modis_results <span class="op">=</span> requests.get(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    url<span class="op">=</span><span class="st">'https://cmr.earthdata.nasa.gov/search/collections.umm_json'</span>, </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    params<span class="op">=</span>{<span class="st">'provider'</span>: <span class="st">"POCLOUD"</span>,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">'ShortName'</span>: <span class="st">"MODIS_A-JPL-L2P-v2019.0"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">'token'</span>: _token}</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>).json()</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the first/only record in the JSON response:</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>modis_coll <span class="op">=</span> modis_results[<span class="st">'items'</span>][<span class="dv">0</span>]</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the 'concept-id' from the 'meta' dictionary:</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>modis_ccid <span class="op">=</span> modis_coll[<span class="st">'meta'</span>][<span class="st">'concept-id'</span>]</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>modis_ccid</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>'C1940473819-POCLOUD'</code></pre>
</div>
</div>
<section id="request-subsets-from-the-harmony-api" class="level4">
<h4 class="anchored" data-anchor-id="request-subsets-from-the-harmony-api">Request subsets from the Harmony API</h4>
<p>We will submit two requests to the <a href="https://harmony.earthdata.nasa.gov/">Harmony API</a>. The API is under active development, and it’s therefore recommended that you test your input parameters in the <a href="https://harmony.earthdata.nasa.gov/docs/api/#">Swagger API interface</a>.</p>
<p>The next cell joins the base url for the API to the concept-id obtained above. Run the cell and print the complete url to confirm:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:37.123308Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:37.120604Z&quot;}" data-execution_count="18">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>harmony_url <span class="op">=</span> <span class="st">"https://harmony.earthdata.nasa.gov"</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>harmony_url_modis <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>harmony_url<span class="sc">}</span><span class="ss">/</span><span class="sc">{</span>modis_ccid<span class="sc">}</span><span class="ss">/ogc-api-coverages/1.0.0/collections/all/coverage/rangeset?"</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(harmony_url_modis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>https://harmony.earthdata.nasa.gov/C1940473819-POCLOUD/ogc-api-coverages/1.0.0/collections/all/coverage/rangeset?</code></pre>
</div>
</div>
<p>Make a dictionary of subset parameters and format the values to meet requirements of the Harmony API. (See the Swagger UI linked above for more information about those requirements.)</p>
<p><em>Note how I’ve commented out the <code>time</code> parameter for the second half of January.</em> I requested the first 15 days and then the second 15 days in two requests to get the whole month.</p>
<p>Here we print the parameters for the first request:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:37.941220Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:37.937601Z&quot;}" data-execution_count="19">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>harmony_params_modis1 <span class="op">=</span> {</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'time'</span>: <span class="ss">f'("</span><span class="sc">{</span>start_date<span class="sc">}</span><span class="ss">T00:00:00.000Z":"2019-01-15T23:59:59.999Z")'</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'lat'</span>: <span class="ss">f'(</span><span class="sc">{</span>aoi_minlat<span class="sc">}</span><span class="ss">:</span><span class="sc">{</span>aoi_maxlat<span class="sc">}</span><span class="ss">)'</span>,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'lon'</span>: <span class="ss">f'(</span><span class="sc">{</span>aoi_minlon<span class="sc">}</span><span class="ss">:</span><span class="sc">{</span>aoi_maxlon<span class="sc">}</span><span class="ss">)'</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>harmony_params_modis2 <span class="op">=</span> {</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'time'</span>: <span class="ss">f'("2019-01-16T00:00:00.000Z":"</span><span class="sc">{</span>end_date<span class="sc">}</span><span class="ss">T23:59:59.999Z")'</span>,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'lat'</span>: <span class="ss">f'(</span><span class="sc">{</span>aoi_minlat<span class="sc">}</span><span class="ss">:</span><span class="sc">{</span>aoi_maxlat<span class="sc">}</span><span class="ss">)'</span>,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'lon'</span>: <span class="ss">f'(</span><span class="sc">{</span>aoi_minlon<span class="sc">}</span><span class="ss">:</span><span class="sc">{</span>aoi_maxlon<span class="sc">}</span><span class="ss">)'</span>,</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>harmony_params_modis1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>{'time': '("2019-01-01T00:00:00.000Z":"2019-01-15T23:59:59.999Z")',
 'lat': '(37.707:38.484)',
 'lon': '(-13.265:-12.812)'}</code></pre>
</div>
</div>
<p>Complete the url by formatting the query portion using the parameters dictionary:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:38.639105Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:38.636070Z&quot;}" data-execution_count="20">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>request_url_modis1 <span class="op">=</span> harmony_url_modis<span class="op">+</span><span class="st">"subset=time</span><span class="sc">{time}</span><span class="st">&amp;subset=lat</span><span class="sc">{lat}</span><span class="st">&amp;subset=lon</span><span class="sc">{lon}</span><span class="st">"</span>.<span class="bu">format</span>(<span class="op">**</span>harmony_params_modis1)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>request_url_modis2 <span class="op">=</span> harmony_url_modis<span class="op">+</span><span class="st">"subset=time</span><span class="sc">{time}</span><span class="st">&amp;subset=lat</span><span class="sc">{lat}</span><span class="st">&amp;subset=lon</span><span class="sc">{lon}</span><span class="st">"</span>.<span class="bu">format</span>(<span class="op">**</span>harmony_params_modis2)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(request_url_modis1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>https://harmony.earthdata.nasa.gov/C1940473819-POCLOUD/ogc-api-coverages/1.0.0/collections/all/coverage/rangeset?subset=time("2019-01-01T00:00:00.000Z":"2019-01-15T23:59:59.999Z")&amp;subset=lat(37.707:38.484)&amp;subset=lon(-13.265:-12.812)</code></pre>
</div>
</div>
</section>
<section id="submit-the-request-parameters-to-the-harmony-api-endpoint" class="level4">
<h4 class="anchored" data-anchor-id="submit-the-request-parameters-to-the-harmony-api-endpoint">Submit the request parameters to the Harmony API endpoint</h4>
<p>I’ve already submitted the two requests required to obtain full coverage for our region and timeframe of interest (the two urls in the <em>job_status</em> list below). To submit a new request, or to submit these two MODIS requests again, comment out the two items in the list like this:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>job_status <span class="op">=</span> [</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'https://...'</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'https://...</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It should trigger new requests in the subsequent cells.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:39.787125Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:39.784692Z&quot;}" data-execution_count="21">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>job_status <span class="op">=</span> [    </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co">#    "https://harmony.earthdata.nasa.gov/jobs/512ca343-3bfe-48c5-a480-9281b7348761",  # First time slice</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co">#    "https://harmony.earthdata.nasa.gov/jobs/5b29414d-3856-4e94-9568-01b32b02a951",  # Second time slice</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The next cell should download a JSON for your new request or from the first request that I submitted while I developed this notebook.</p>
<p>Print the message field of the JSON response:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:46.407504Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:40.543604Z&quot;}" data-execution_count="22">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>request_urls_for_modis <span class="op">=</span> [request_url_modis1, request_url_modis2]</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">len</span>(job_status)<span class="op">==</span><span class="dv">0</span>:</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Loop over the list of request urls:</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> r <span class="kw">in</span> request_urls_for_modis:</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Submit the request and decode the response from json string to dict:</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>        response_modis <span class="op">=</span> requests.get(r)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># If the response came back with something other than '2xx', raise an error:</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> response_modis.status_code <span class="op">//</span> <span class="dv">100</span> <span class="op">==</span> <span class="dv">2</span>: </span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">Exception</span>(response_modis.text)</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>            response_data <span class="op">=</span> response_modis.json()</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Append the status endpoint to the list of 'job_status' urls:</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>        job_status.append(response_data[<span class="st">'links'</span>][<span class="dv">0</span>][<span class="st">'href'</span>])</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>    response_data <span class="op">=</span> requests.get(job_status[<span class="dv">0</span>]).json()</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>response_data[<span class="st">'message'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>'The job is being processed'</code></pre>
</div>
</div>
<p>Successful requests to the API will respond with a JSON that starts like this:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"username"</span><span class="fu">:</span> <span class="st">"jmcnelis"</span><span class="fu">,</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"status"</span><span class="fu">:</span> <span class="st">"running"</span><span class="fu">,</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"message"</span><span class="fu">:</span> <span class="st">"The job is being processed"</span><span class="fu">,</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"progress"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"createdAt"</span><span class="fu">:</span> <span class="st">"2021-02-25T02:09:35.972Z"</span><span class="fu">,</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"updatedAt"</span><span class="fu">:</span> <span class="st">"2021-02-25T02:09:35.972Z"</span><span class="fu">,</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="er">...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The example above is truncated to the first several lines for the sake of space.</p>
<p><strong>Monitor the status of an in-progress job</strong></p>
<p>Select the <code>status</code> URL(s) from the list(s) of <code>links</code>:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:08:49.362801Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:08:49.359356Z&quot;}" data-execution_count="23">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">len</span>(job_status)<span class="op">==</span><span class="dv">0</span>:</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>        job_status <span class="op">=</span> [l[<span class="st">'href'</span>] <span class="cf">for</span> l <span class="kw">in</span> response_data[<span class="st">'links'</span>] <span class="cf">if</span> l[<span class="st">'title'</span>]<span class="op">==</span><span class="st">"Job Status"</span>]</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> (<span class="pp">KeyError</span>, <span class="pp">IndexError</span>) <span class="im">as</span> e:</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> e</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(job_status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['https://harmony.earthdata.nasa.gov/jobs/558426d1-3df4-4cc2-80dc-943d03ac5810', 'https://harmony.earthdata.nasa.gov/jobs/dafd8c06-89b5-4dd6-af1d-cacb12512101']</code></pre>
</div>
</div>
<p>Run the next cell to monitor the status of as many requests as you need.</p>
<p>It will loop over the <code>job_status</code> list and wait for all the requests to finish processing. (It terminates when the <code>status</code> field of the JSON response <em>does not</em> contain the string <code>"running"</code>.)</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:02.192779Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:09:06.021432Z&quot;}" data-execution_count="24">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>wait <span class="op">=</span> <span class="dv">10</span>       <span class="co"># The number of seconds to wait between each status check</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>completed <span class="op">=</span> {}  <span class="co"># A dict of JSON responses for completed jobs</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop repeatedly to check job status. Wait before retrying.</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> job_status:  <span class="co"># Iterate over list of job urls</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> j <span class="kw">in</span> completed:  <span class="co"># Skip if completed.</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Get the current job's status as a JSON object.</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>        job_data <span class="op">=</span> requests.get(j).json()</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> job_data[<span class="st">'status'</span>]<span class="op">!=</span><span class="st">'running'</span>:</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>            completed[j] <span class="op">=</span> job_data  <span class="co"># Add to 'completed' if finished</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Break loop if 'completed' dictionary contains all jobs.</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(completed)<span class="op">==</span><span class="dv">2</span>:</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If still processing, print a status update and wait ten seconds.</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"# Job(s) in progress (</span><span class="sc">{</span><span class="bu">len</span>(completed)<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">/</span><span class="sc">{</span><span class="bu">len</span>(job_status)<span class="sc">}</span><span class="ss">)"</span>)</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>    time.sleep(wait)</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span><span class="st">'&amp;'</span><span class="op">*</span><span class="dv">40</span><span class="sc">}</span><span class="ch">\n</span><span class="ss">%</span><span class="ch">\t\t</span><span class="ss">DONE!</span><span class="ch">\n</span><span class="sc">{</span><span class="st">'&amp;'</span><span class="op">*</span><span class="dv">40</span><span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Job(s) in progress (1/2)
# Job(s) in progress (1/2)
# Job(s) in progress (1/2)
# Job(s) in progress (1/2)
# Job(s) in progress (1/2)
# Job(s) in progress (1/2)
# Job(s) in progress (1/2)
# Job(s) in progress (1/2)
# Job(s) in progress (2/2)

&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
%       DONE!
&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
</code></pre>
</div>
</div>
<p>The final response(s) are <em>massive</em> whenever your subset results in a large number of output granules. Print everything but the <code>links</code> here:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:18.825910Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:18.822802Z&quot;}" data-execution_count="25">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(json.dumps({k:v <span class="cf">for</span> k, v <span class="kw">in</span> job_data.items() <span class="cf">if</span> k<span class="op">!=</span><span class="st">"links"</span>}, indent<span class="op">=</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{
  "username": "jmcnelis",
  "status": "successful",
  "message": "The job has completed successfully",
  "progress": 100,
  "createdAt": "2021-03-15T21:08:45.844Z",
  "updatedAt": "2021-03-15T21:10:51.310Z",
  "request": "https://harmony.earthdata.nasa.gov/C1940473819-POCLOUD/ogc-api-coverages/1.0.0/collections/all/coverage/rangeset?subset=time(%222019-01-16T00%3A00%3A00.000Z%22%3A%222019-01-31T23%3A59%3A59.999Z%22)&amp;subset=lat(37.707%3A38.484)&amp;subset=lon(-13.265%3A-12.812)",
  "numInputGranules": 55,
  "jobID": "dafd8c06-89b5-4dd6-af1d-cacb12512101"
}</code></pre>
</div>
</div>
<p>Now look at the first url that points to a subset file (skip the first two because they point to other stuff about the order):</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:23.520484Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:23.518083Z&quot;}" data-execution_count="26">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(json.dumps(job_data[<span class="st">'links'</span>][<span class="dv">2</span>], indent<span class="op">=</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{
  "href": "https://harmony.earthdata.nasa.gov/service-results/harmony-prod-staging/public/podaac/l2-subsetter/80c8503e-c958-4825-b072-ccdee3f7863b/20190116023001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4",
  "title": "20190116023001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4",
  "type": "application/x-netcdf4",
  "rel": "data",
  "bbox": [
    -13.3,
    37.7,
    -12.8,
    38.5
  ],
  "temporal": {
    "start": "2019-01-16T02:30:01.000Z",
    "end": "2019-01-16T02:34:59.000Z"
  }
}</code></pre>
</div>
</div>
<p>This cell collects all the output links (Python dicts) from our requests in a list and prints the total number of outputs:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:27.735502Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:27.732640Z&quot;}" data-execution_count="27">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>job_links <span class="op">=</span> []</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> j <span class="kw">in</span> <span class="bu">list</span>(completed.values()):</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> l <span class="kw">in</span> j[<span class="st">'links'</span>]:</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> l[<span class="st">'href'</span>].endswith(<span class="st">"subsetted.nc4"</span>):</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>            job_links.append(l)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(job_links))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>74</code></pre>
</div>
</div>
<section id="prepare-subset-data-for-further-analysis" class="level5">
<h5 class="anchored" data-anchor-id="prepare-subset-data-for-further-analysis">Prepare subset data for further analysis</h5>
<p>Get the subset metadata as <code>pandas.DataFrame</code>. We can use <em>apply</em> logic to calculate stats over the time series in subsequent steps. Print the number of rows to confirm. (Should match above)</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:28.814911Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:28.811051Z&quot;}" data-execution_count="28">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>subsets_df <span class="op">=</span> pd.DataFrame(data<span class="op">=</span>[{<span class="op">**</span>l, <span class="op">**</span>l[<span class="st">'temporal'</span>]} <span class="cf">for</span> l <span class="kw">in</span> job_links])</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(subsets_df.index.size)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>74</code></pre>
</div>
</div>
<p><strong>Select day/drop night observations</strong></p>
<p>Add a day/night flag column to the table. Apply a function over the <code>href</code> column to check the source filename for a string indicating day/night for the swath:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:29.427130Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:29.416076Z&quot;}" data-execution_count="29">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>subsets_df[<span class="st">'daytime'</span>] <span class="op">=</span> subsets_df[<span class="st">'href'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="st">'MODIS_A-N'</span> <span class="kw">not</span> <span class="kw">in</span> x)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>subsets_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 74 entries, 0 to 73
Data columns (total 9 columns):
 #   Column    Non-Null Count  Dtype 
---  ------    --------------  ----- 
 0   href      74 non-null     object
 1   title     74 non-null     object
 2   type      74 non-null     object
 3   rel       74 non-null     object
 4   bbox      74 non-null     object
 5   temporal  74 non-null     object
 6   start     74 non-null     object
 7   end       74 non-null     object
 8   daytime   74 non-null     bool  
dtypes: bool(1), object(8)
memory usage: 4.8+ KB</code></pre>
</div>
</div>
<p>And finally, reformat the <em>start</em> timestamps as a new column containing pandas datetime objects instead of strings. Then, add one more column containing a date object (rather than the full datetime timestamp) which we’ll use to aggregate the data before plotting.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:30.052517Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:30.046937Z&quot;}" data-execution_count="30">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add new 'datetime' column so that we aren't working with strings:</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>subsets_df[<span class="st">'datetime'</span>] <span class="op">=</span> pd.to_datetime(subsets_df[<span class="st">'start'</span>])</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add new 'date' column for aggregation during the final steps of the workflow:</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>subsets_df[<span class="st">'date'</span>] <span class="op">=</span> subsets_df.datetime.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.date()).tolist()</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>subsets_df.date.iloc[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>datetime.date(2019, 1, 1)</code></pre>
</div>
</div>
</section>
</section>
<section id="accessing-outputs-from-your-subset-request" class="level3">
<h3 class="anchored" data-anchor-id="accessing-outputs-from-your-subset-request">Accessing outputs from your subset request</h3>
<p>Now we will download all the netCDF subsets to the local workspace. (I’m inside AWS as I develop this ipynb.) Set a target directory and create it if needed:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:30.530313Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:30.400937Z&quot;}" data-execution_count="31">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>target_dir <span class="op">=</span> <span class="ss">f"resources/data/"</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>mkdir <span class="op">-</span>p $target_dir</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This function should handle downloads reliably–test by downloading the first netCDF subset from our table (<em>subsets_df</em>):</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:30.749873Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:30.742862Z&quot;}" data-execution_count="32">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> download_target_file(url: <span class="bu">str</span>, force: <span class="bu">bool</span><span class="op">=</span><span class="va">False</span>):</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Determine the target path for the download</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    target_file <span class="op">=</span> join(target_dir, basename(url))</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> isfile(target_file) <span class="kw">and</span> force <span class="kw">is</span> <span class="va">False</span>:</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"# File already exists. Skipping...</span><span class="ch">\n</span><span class="ss">(</span><span class="sc">{</span>basename(url)<span class="sc">}</span><span class="ss">)</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"# File downloading...</span><span class="ch">\n</span><span class="ss">(</span><span class="sc">{</span>basename(url)<span class="sc">}</span><span class="ss">)</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Open a remote connection for download stream/write to disk:</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> requests.get(url) <span class="im">as</span> r:</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Raise exception if response has status other than '2xx':</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> r.status_code <span class="op">//</span> <span class="dv">100</span> <span class="op">==</span> <span class="dv">2</span>: </span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">Exception</span>(r.text)</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Otherwise write the file to disk:</span></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>            <span class="cf">with</span> <span class="bu">open</span>(target_file, <span class="st">'wb'</span>) <span class="im">as</span> f:</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> chunk <span class="kw">in</span> r.iter_content(chunk_size<span class="op">=</span><span class="dv">1024</span>):</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> chunk:</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>                        f.write(chunk)</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>                        </span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Test the download function by passing the URL for the first subset in the `subsets` table:</span></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>download_target_file(url<span class="op">=</span>subsets_df[<span class="st">'href'</span>].iloc[<span class="dv">0</span>])</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Join the string path to the target file that should have just downloaded.</span></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>test_nc4 <span class="op">=</span> join(target_dir, basename(subsets_df[<span class="st">'href'</span>].iloc[<span class="dv">0</span>]))</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"The first file downloaded successfully:"</span>, isfile(test_nc4))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># File already exists. Skipping...
(20190101031001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

The first file downloaded successfully: True</code></pre>
</div>
</div>
<p>Make sure you can dump the header of that file with <em>ncdump</em>. (The output below is truncated.)</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:31.255051Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:31.087563Z&quot;}" data-execution_count="33">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>ncdump <span class="op">-</span>h $test_nc4 <span class="op">|</span> head <span class="op">-</span><span class="dv">20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>netcdf \20190101031001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted {
dimensions:
    nj = 92 ;
    ni = 42 ;
    time = 1 ;
variables:
    float lat(nj, ni) ;
        lat:_FillValue = -999.f ;
        lat:long_name = "latitude" ;
        lat:standard_name = "latitude" ;
        lat:units = "degrees_north" ;
        lat:valid_min = -90.f ;
        lat:valid_max = 90.f ;
        lat:comment = "geographical coordinates, WGS84 projection" ;
        lat:coverage_content_type = "coordinate" ;
    float lon(nj, ni) ;
        lon:_FillValue = -999.f ;
        lon:long_name = "longitude" ;
        lon:standard_name = "longitude" ;
        lon:units = "degrees_east" ;</code></pre>
</div>
</div>
<p>NetCDF file format errors indicate that the download was not successful. <em>cat</em> the file for more clues. Read and plot the <em>sea_surface_temperature</em> variable:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:31.627310Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:31.443306Z&quot;}" data-execution_count="34">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> xr.open_dataset(test_nc4) <span class="im">as</span> ds:</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    ds.sea_surface_temperature[<span class="dv">0</span>].plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Colocate_satellite_insitu_ocean_files/figure-html/cell-35-output-1.png" class="img-fluid"></p>
</div>
</div>
<section id="download-all-the-netcdf-subsets" class="level4">
<h4 class="anchored" data-anchor-id="download-all-the-netcdf-subsets">Download all the netCDF subsets</h4>
<p>Get the links in the <em>href</em> column in a loop:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:31.843575Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:31.832914Z&quot;}" data-execution_count="35">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> u <span class="kw">in</span> subsets_df[<span class="st">'href'</span>].tolist():</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    download_target_file(u)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># File already exists. Skipping...
(20190101031001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190101141501-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190102021501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190102132001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190103030000-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190103140501-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190104020501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190104034001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190104034501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190104131001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190104144501-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190105025001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190105135000-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190106033000-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190106143501-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190107023501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190107134001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190108032000-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190108142000-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190109022501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190109132501-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190110030501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190110141001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190111021000-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190111131500-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190111145500-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190112025501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190112140001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190113020001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190113033501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190113130500-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190113144001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190114024000-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190114134500-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190115032501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190115143001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190116023001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190116133500-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190117031000-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190117141501-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190118021501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190118132001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190119030001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190119140500-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190120020501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190120034000-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190120034501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190120131001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190120144501-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190121025001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190121135001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190122033000-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190122143500-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190123023501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190123134001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190124032001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190124142001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190125022500-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190125132500-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190126030501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190126141001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190127021001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190127131500-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190127145500-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190128025500-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190128140001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190129020001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190129033501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190129130501-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190129144001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190130024001-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190130134500-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190131032501-JPL-L2P_GHRSST-SSTskin-MODIS_A-N-v02.0-fv01.0_subsetted.nc4)

# File already exists. Skipping...
(20190131143001-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4)
</code></pre>
</div>
</div>
<p>The next cell adds a column of absolute paths to the netCDF files to the data frame <em>subsets_df</em>:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:32.998900Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:32.988444Z&quot;}" data-execution_count="36">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>subsets_df[<span class="st">'path'</span>] <span class="op">=</span> subsets_df[<span class="st">'href'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: abspath(join(target_dir, basename(x))))</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>isfile(subsets_df[<span class="st">'path'</span>].iloc[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>True</code></pre>
</div>
</div>
</section>
<section id="limit-to-daytime-modis-observations" class="level4">
<h4 class="anchored" data-anchor-id="limit-to-daytime-modis-observations">Limit to daytime MODIS observations</h4>
<p>Select just the <em>daytime</em> observations into a new data frame. (Remember we added a <em>daytime</em> column during a previous step.)</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:33.613325Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:33.608850Z&quot;}" data-execution_count="37">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>subsets_day <span class="op">=</span> subsets_df[subsets_df.daytime<span class="op">==</span><span class="va">True</span>].copy()</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(subsets_day.index.size, <span class="st">"of"</span>, subsets_df.index.size, <span class="st">"MODIS acquisitions were collected during daytime"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>37 of 74 MODIS acquisitions were collected during daytime</code></pre>
</div>
</div>
</section>
<section id="data-quality" class="level4">
<h4 class="anchored" data-anchor-id="data-quality">Data quality</h4>
<p>The <em>quality_level</em> variable describes the observation quality for each pixel in the L2 swaths. Values are assigned between 1 and 6 corresponding to these quality levels:</p>
<ol type="1">
<li>no_data</li>
<li>bad_data</li>
<li>worst_quality</li>
<li>low_quality</li>
<li>acceptable_quality</li>
<li>best_quality</li>
</ol>
<p>The next cell plots the masked SST grid for the first daytime observations:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:34.206615Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:34.011519Z&quot;}" data-execution_count="38">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> xr.open_dataset(subsets_day.iloc[<span class="dv">0</span>].path) <span class="im">as</span> ds:</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a mask for pixels that are </span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    quality_mask <span class="op">=</span> ds.quality_level[<span class="dv">0</span>]<span class="op">==</span><span class="dv">5</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fill pixels where ###### with np.nan:</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>    masked_ds <span class="op">=</span> ds.where(quality_mask)</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Plot the resulting array of sea surface temperature:</span></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>    masked_ds.sea_surface_temperature[<span class="dv">0</span>].plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Colocate_satellite_insitu_ocean_files/figure-html/cell-39-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="plot-time-series-from-multiple-data-sources" class="level3">
<h3 class="anchored" data-anchor-id="plot-time-series-from-multiple-data-sources">Plot time series from multiple data sources</h3>
<p>Roll the logic above into a few map-able functions that group the SST data by day to produce (up to) one daily mean.</p>
<blockquote class="blockquote">
<h4 id="apply-filter-and-mean-in-two-functions" class="anchored">Apply filter and mean in two functions</h4>
<p><code>get_user_stat</code> reads the input netCDF and applies some user-specified function to the dataset to render the desired output, then closes the file.</p>
<p>The second function <code>_masked_mean</code> filters and calculates the XY mean of the <em>sea_surface_temperature</em> variable. (You could replace this function with your own to do something different.)</p>
</blockquote>
<p>Test the combined routine against the first file in the daytime MODIS table:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:34.765630Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:34.762616Z&quot;}" data-execution_count="39">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>subsets_day[<span class="st">'path'</span>].iloc[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>'/Users/jmcnelis/tmp/appscitmp/tutorials/notebooks/SWOT-EA-2021/resources/data/20190101141501-JPL-L2P_GHRSST-SSTskin-MODIS_A-D-v02.0-fv01.0_subsetted.nc4'</code></pre>
</div>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:34.971209Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:34.938063Z&quot;}" data-execution_count="40">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_user_stat(netcdf, function):</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> xr.open_dataset(netcdf) <span class="im">as</span> ds:  </span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>        output <span class="op">=</span> function(ds)</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> output</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> _masked_mean(ds):</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">'''Produce any output stat/object you want in this function'''</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a mask for pixels that are </span></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>    quality_mask <span class="op">=</span> ds.quality_level[<span class="dv">0</span>]<span class="op">&gt;=</span><span class="dv">5</span></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fill pixels with np.nan where quality_level is less than 4:</span></span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>    masked_ds <span class="op">=</span> ds.where(quality_mask)</span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ignore warnings about calculating mean over an empty array:</span></span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> warnings.catch_warnings():</span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>        warnings.simplefilter(<span class="st">"ignore"</span>, category<span class="op">=</span><span class="pp">RuntimeWarning</span>)</span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Calculate mean over the XY dimensions (nj, ni in this case)</span></span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a>        value <span class="op">=</span> masked_ds[<span class="st">'sea_surface_temperature'</span>].mean([<span class="st">'nj'</span>, <span class="st">'ni'</span>]).data.item()</span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#value = np.nanmean(masked_sst)</span></span>
<span id="cb69-21"><a href="#cb69-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value</span>
<span id="cb69-22"><a href="#cb69-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-23"><a href="#cb69-23" aria-hidden="true" tabindex="-1"></a>val <span class="op">=</span> get_user_stat(subsets_day[<span class="st">'path'</span>].iloc[<span class="dv">0</span>], function<span class="op">=</span>_masked_mean)</span>
<span id="cb69-24"><a href="#cb69-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-25"><a href="#cb69-25" aria-hidden="true" tabindex="-1"></a>val<span class="op">-</span><span class="fl">273.15</span>  <span class="co"># subtract 273.15 to convert Kelvin to Celsius</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>16.743005371093773</code></pre>
</div>
</div>
<p>That should give a reasonable value in degrees Celsius.</p>
<section id="get-means-for-the-filtered-modis-sst-time-series-in-a-new-column" class="level5">
<h5 class="anchored" data-anchor-id="get-means-for-the-filtered-modis-sst-time-series-in-a-new-column">Get means for the filtered MODIS SST time series in a new column</h5>
<p>Apply the <code>_masked_mean</code> function over the column of subsets (i.e.&nbsp;netCDF4 files) to get the time series in a new column <em>sst_mean</em>:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:36.422660Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:35.294458Z&quot;}" data-execution_count="41">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>subsets_day[<span class="st">'sst_mean'</span>] <span class="op">=</span> subsets_day[<span class="st">'path'</span>].<span class="bu">apply</span>(get_user_stat, args<span class="op">=</span>(_masked_mean,))<span class="op">-</span><span class="fl">273.15</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>subsets_day[<span class="st">'sst_mean'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>count    15.000000
mean     16.404915
std       0.566561
min      15.284357
25%      15.921838
50%      16.546533
75%      16.833688
max      17.222162
Name: sst_mean, dtype: float64</code></pre>
</div>
</div>
<p>We may need to group by the date:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:36.435666Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:36.424339Z&quot;}" data-execution_count="42">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>subsets_day_means <span class="op">=</span> subsets_day.groupby(<span class="st">"date"</span>, as_index<span class="op">=</span><span class="va">False</span>).mean()</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>subsets_day_means.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">sst_mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>15.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>16.404915</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>0.566561</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>15.284357</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>15.921838</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>16.546533</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>16.833688</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>17.222162</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Now plot the two time series along the same <em>date</em> axis for visual comparison:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:11:36.776275Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:36.541708Z&quot;}" data-execution_count="43">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">16</span>, <span class="dv">4</span>))</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot mean sea surface temperature from MODIS SST from GHRSST</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>subsets_day_means.plot.scatter(</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"date"</span>,</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"sst_mean"</span>, </span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="st">"SST observed by MODIS"</span>,</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>    s<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>    ax<span class="op">=</span>ax</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot mean sea surface temperature from the Argo floats</span></span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>argo_skinny.plot.scatter(</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"date"</span>,</span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"temp_at_pres_min"</span>,</span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>    s<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"orange"</span>,</span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a>    marker<span class="op">=</span><span class="st">"v"</span>,</span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="st">"SST measured by Argo floats"</span>,</span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true" tabindex="-1"></a>    ax<span class="op">=</span>ax</span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb74-22"><a href="#cb74-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-23"><a href="#cb74-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Matplotlib aesthetic treatments starting from here --&gt;</span></span>
<span id="cb74-24"><a href="#cb74-24" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Temperature (deg C)"</span>)</span>
<span id="cb74-25"><a href="#cb74-25" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="fl">15.0</span>, <span class="fl">18.0</span>)</span>
<span id="cb74-26"><a href="#cb74-26" aria-hidden="true" tabindex="-1"></a>ax.grid(alpha<span class="op">=</span><span class="fl">0.25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Colocate_satellite_insitu_ocean_files/figure-html/cell-44-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="mur-level-4-sst-from-aws-open-registry" class="level3">
<h3 class="anchored" data-anchor-id="mur-level-4-sst-from-aws-open-registry">MUR Level 4 SST from AWS Open Registry</h3>
<p>Try plotting the summarized time series for the two datasets against MUR L4 SST from AWS Open Registry: https://registry.opendata.aws/mur/</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:12:19.508537Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:11:37.366147Z&quot;}" data-execution_count="44">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> fsspec</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> xarray <span class="im">as</span> xr</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dask.distributed <span class="im">import</span> Client</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Reference the MUR L4 SST data on the AWS Open Registry</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">'s3://mur-sst/zarr'</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Open the remote dataset from its S3 endpoint (pre-consolidated)</span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> xr.open_zarr(fsspec.get_mapper(url, anon<span class="op">=</span><span class="va">True</span>), consolidated<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Slice the dataset along its X, Y, and T dimensions:</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>mur_L4_subset <span class="op">=</span> ds[<span class="st">'analysed_sst'</span>].sel(</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>    time<span class="op">=</span><span class="bu">slice</span>(<span class="st">'2019-01-01'</span>,<span class="st">'2019-01-31'</span>),</span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>    lat<span class="op">=</span><span class="bu">slice</span>(aoi_minlat, aoi_maxlat), </span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>    lon<span class="op">=</span><span class="bu">slice</span>(aoi_minlon, aoi_maxlon),</span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>).persist()</span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate the spatial dimensions to compute the one-dimensional time series of means:</span></span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>mur_L4_subset_means <span class="op">=</span> mur_L4_subset.groupby(<span class="st">"time"</span>).mean([<span class="st">"lon"</span>, <span class="st">"lat"</span>])<span class="op">-</span><span class="fl">273.15</span></span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mur_L4_subset_means)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;xarray.DataArray 'analysed_sst' (time: 31)&gt;
dask.array&lt;sub, shape=(31,), dtype=float32, chunksize=(1,), chunktype=numpy.ndarray&gt;
Coordinates:
  * time     (time) datetime64[ns] 2019-01-01T09:00:00 ... 2019-01-31T09:00:00</code></pre>
</div>
</div>
<p>Add the MUR time series to the subsets table so that they share the same time axis with the L2 time series:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:12:19.564312Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:12:19.510356Z&quot;}" data-execution_count="45">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>subsets_day_means[<span class="st">'L4_MUR_SST'</span>] <span class="op">=</span> mur_L4_subset_means.compute().data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Plot the result alongside our data processed throughout the notebook:</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2021-03-15T21:12:19.825875Z&quot;,&quot;start_time&quot;:&quot;2021-03-15T21:12:19.566301Z&quot;}" data-execution_count="46">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">16</span>, <span class="dv">5</span>))</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the L4 SST from MUR (hosted by AWS Open Registry)</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>subsets_day_means.plot.line(</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"date"</span>,</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"L4_MUR_SST"</span>,</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"red"</span>,</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="st">"L4 MUR SST (AWS Open Registry)"</span>,</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>    ax<span class="op">=</span>ax,</span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the L2 SST from GHRSST (subset through Harmony API)</span></span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a>subsets_day_means.plot.scatter(</span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"date"</span>,</span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"sst_mean"</span>, </span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="st">"L2 MODIS SST (EOSDIS Cloud)"</span>,</span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a>    s<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb78-18"><a href="#cb78-18" aria-hidden="true" tabindex="-1"></a>    ax<span class="op">=</span>ax</span>
<span id="cb78-19"><a href="#cb78-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb78-20"><a href="#cb78-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-21"><a href="#cb78-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the in situ temps measured at the surface during Argo profiles (accessed from ArgoVis)</span></span>
<span id="cb78-22"><a href="#cb78-22" aria-hidden="true" tabindex="-1"></a>argo_skinny.plot.scatter(</span>
<span id="cb78-23"><a href="#cb78-23" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"date"</span>,</span>
<span id="cb78-24"><a href="#cb78-24" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"temp_at_pres_min"</span>,</span>
<span id="cb78-25"><a href="#cb78-25" aria-hidden="true" tabindex="-1"></a>    s<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb78-26"><a href="#cb78-26" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"orange"</span>,</span>
<span id="cb78-27"><a href="#cb78-27" aria-hidden="true" tabindex="-1"></a>    marker<span class="op">=</span><span class="st">"v"</span>,</span>
<span id="cb78-28"><a href="#cb78-28" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="st">"In situ measurements (ArgoVis API)"</span>,</span>
<span id="cb78-29"><a href="#cb78-29" aria-hidden="true" tabindex="-1"></a>    ax<span class="op">=</span>ax</span>
<span id="cb78-30"><a href="#cb78-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb78-31"><a href="#cb78-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-32"><a href="#cb78-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Matplotlib aesthetic treatments starting from here --&gt;</span></span>
<span id="cb78-33"><a href="#cb78-33" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb78-34"><a href="#cb78-34" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="va">None</span>)</span>
<span id="cb78-35"><a href="#cb78-35" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(subsets_day_means.date.iloc[<span class="dv">0</span>], subsets_day_means.date.iloc[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb78-36"><a href="#cb78-36" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Temperature (deg C)"</span>)</span>
<span id="cb78-37"><a href="#cb78-37" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="fl">15.0</span>, <span class="fl">18.0</span>)</span>
<span id="cb78-38"><a href="#cb78-38" aria-hidden="true" tabindex="-1"></a>ax.grid(alpha<span class="op">=</span><span class="fl">0.25</span>)</span>
<span id="cb78-39"><a href="#cb78-39" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Daily SST from L2 MODIS, L4 MUR, and in situ measurements (January 2019)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>Text(0.5, 1.0, 'Daily SST from L2 MODIS, L4 MUR, and in situ measurements (January 2019)')</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Colocate_satellite_insitu_ocean_files/figure-html/cell-47-output-2.png" class="img-fluid"></p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../notebooks/meetings_workshops/swot_ea_hackweek_2022/River_Heights_in_the_Cloud.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">River Heights Comparison</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../quarto_text/CloudOptimizedExamples.html" class="pagination-link">
        <span class="nav-page-text">Cloud Optimized Examples</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© PO.DAAC, 2022</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This page is built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>